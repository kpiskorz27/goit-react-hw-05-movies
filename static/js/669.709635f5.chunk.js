"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[669],{669:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var a=s(791),n=s(689),i=s(87);const r="Movies_container__5agh3",c="Movies_main__ud9w0",o="Movies_form__a6uP0",l="Movies_input__PCCAR",_="Movies_buttonSubmit__CfP1L Movies_button__rXFnr",u="Movies_list__PM-Yl",m="Movies_link__r4VOG",h="Movies_pagination__DP+QV",d="Movies_buttonPage__6FrtI Movies_button__rXFnr",v="Movies_info__884km",p="Movies_error__gMlTD";var x=s(184);const b=e=>{let{handleFetching:t}=e;const[s,b]=(0,a.useState)(""),[M,j]=(0,a.useState)([]),[g,N]=(0,a.useState)(!1),[f,k]=(0,a.useState)(1),[S,y]=(0,a.useState)(!1),w=(0,n.s0)(),C=async(e,s)=>{try{const a=await t("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=").concat(s));j(a.results),N(!0),w("/movies",{replace:!0})}catch(S){y(!0)}};return(0,x.jsx)("main",{className:c,children:(0,x.jsxs)("div",{className:r,children:[(0,x.jsxs)("form",{className:o,onSubmit:async e=>{e.preventDefault();const t=e.currentTarget,s=t.elements.search.value;b(s),k(1),await C(s,1),t.reset()},children:[(0,x.jsx)("input",{className:l,type:"text",name:"search"}),(0,x.jsx)("button",{className:_,type:"submit",children:"Search"})]}),g&&M&&(M.length>0?(0,x.jsxs)("div",{children:[(0,x.jsx)("ul",{className:u,children:M.map((e=>(0,x.jsx)("li",{children:(0,x.jsx)(i.rU,{className:m,to:"/movies/".concat(e.id),children:e.title})},e.id)))}),(0,x.jsxs)("div",{className:h,children:[(0,x.jsx)("button",{className:d,onClick:()=>{if(1===f)return;const e=f-1;k(e),C(s,e)},type:"button",children:"Back"}),(0,x.jsx)("button",{className:d,onClick:()=>{const e=f+1;k(e),C(s,e)},type:"button",children:"Next"})]})]}):(0,x.jsx)("p",{className:v,children:"There are no matching results."})),(S||!M)&&(0,x.jsx)("p",{className:p,children:"Error: Failed to get information from the server."})]})})}}}]);
//# sourceMappingURL=669.709635f5.chunk.js.map