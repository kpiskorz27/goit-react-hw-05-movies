"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[669],{669:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(791),n=s(689),i=s(87);const o={container:"Movies_container__5agh3",form:"Movies_form__a6uP0",input:"Movies_input__PCCAR",button:"Movies_button__rXFnr",buttonSubmit:"Movies_buttonSubmit__CfP1L",list:"Movies_list__PM-Yl",link:"Movies_link__r4VOG",pagination:"Movies_pagination__DP+QV",buttonPage:"Movies_buttonPage__6FrtI",info:"Movies_info__884km",error:"Movies_error__gMlTD"};var r=s(184);const c=e=>{let{handleFetching:t}=e;const[s,c]=(0,a.useState)(""),[l,u]=(0,a.useState)([]),[m,_]=(0,a.useState)(!1),[h,d]=(0,a.useState)(1),[p,v]=(0,a.useState)(!1),b=(0,n.s0)(),g=async(e,s)=>{try{const a=await t("https://api.themoviedb.org/3/search/movie?query=".concat(e,"&include_adult=false&language=en-US&page=").concat(s));u(a.results),_(!0),b("/movies",{replace:!0})}catch(p){v(!0)}};return(0,r.jsx)("main",{className:o.main,children:(0,r.jsxs)("div",{className:o.container,children:[(0,r.jsxs)("form",{className:o.form,onSubmit:async e=>{e.preventDefault();const t=e.currentTarget,s=t.elements.search.value;c(s),d(1),await g(s,1),t.reset()},children:[(0,r.jsx)("input",{className:o.input,type:"text",name:"search"}),(0,r.jsx)("button",{className:o.buttonSubmit,type:"submit",children:"Search"})]}),m&&l&&(l.length>0?(0,r.jsxs)("div",{children:[(0,r.jsx)("ul",{className:o.list,children:l.map((e=>(0,r.jsx)("li",{children:(0,r.jsx)(i.rU,{className:o.link,to:"/movies/".concat(e.id),children:e.title})},e.id)))}),(0,r.jsxs)("div",{className:o.pagination,children:[(0,r.jsx)("button",{className:o.buttonPage,onClick:()=>{if(1===h)return;const e=h-1;d(e),g(s,e)},type:"button",children:"Back"}),(0,r.jsx)("button",{className:o.buttonPage,onClick:()=>{const e=h+1;d(e),g(s,e)},type:"button",children:"Next"})]})]}):(0,r.jsx)("p",{className:o.info,children:"There are no matching results."})),(p||!l)&&(0,r.jsx)("p",{className:o.error,children:"Error: Failed to get information from the server."})]})})}}}]);
//# sourceMappingURL=669.e70895fd.chunk.js.map